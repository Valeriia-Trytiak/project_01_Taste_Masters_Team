import{n as s,a as u,c as m,b as f,h as y}from"./cards-af8241f9.js";const g=document.querySelector(".order-btn"),p=document.querySelector(".order-btn-mob"),v=document.querySelector(".modal-close-btn"),c=document.querySelector(".modal-overlay"),S=document.querySelector(".form");g.addEventListener("click",l);p.addEventListener("click",l);v.addEventListener("click",i);S.addEventListener("submit",h);function l(){c.classList.remove("visually-hidden")}function i(){c.classList.add("visually-hidden")}function h(e){e.preventDefault();const t=e.currentTarget.elements.modal_name.value,o=e.currentTarget.elements.modal_phone.value,r=e.currentTarget.elements.modal_email.value,n=e.currentTarget.elements.modal_comment.value;e.currentTarget.reset(),t==""||o==""||r==""?s.Notify.failure("Ensure you input a value in both fields!"):u(t,o,r,n).then(()=>{s.Notify.success("This form has been successfully submitted!"),i()}).catch(a=>{s.Notify.failure("Oops! Something went wrong. Please try again later.")})}function b(e){return e.map(({category:t})=>t).filter((t,o,r)=>r.indexOf(t)===o).sort((t,o)=>t.localeCompare(o)).map(t=>`<button type="button" class="fav-categories-btn">${t}</button>`).join("")}function L(){const e={hero:document.querySelector(".js-fav-hero-section"),categories:document.querySelector(".js-fav-categories-section"),categoriesList:document.querySelector(".js-fav-categories-list"),cardsList:document.querySelector(".js-fav-cards-list"),plug:document.querySelector(".js-favorites-plug"),footer:document.querySelector(".js-fav-footer")};o();function t(r){const n=r.currentTarget.parentNode.parentNode.dataset.id,a=JSON.parse(localStorage.getItem("cardsArray"))||[];a.splice(a.indexOf(a.find(d=>d._id===n)),1),localStorage.setItem("cardsArray",JSON.stringify(a)),o()}function o(){const r=JSON.parse(localStorage.getItem("cardsArray"))||[];if(r.length===0){getComputedStyle(e.hero).getPropertyValue("--visible")==="false"&&(e.hero.style.display="none"),e.categories.style.display="none",e.cardsList.style.display="none",e.footer.style.display="none",e.plug.style.display="block";return}e.plug.style.display="none",e.categoriesList.innerHTML=b(r),e.cardsList.innerHTML=m(r),f(),y(e.cardsList,r),document.querySelectorAll(".js-btn-heart-active").forEach(a=>a.addEventListener("click",t))}}L();
